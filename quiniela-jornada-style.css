/* --- Apuestas de la Peña (Agrupadas) --- */

/* Contenedor que maneja el GRID para los grupos de aciertos */
.peña-bets-list-container {
    display: grid;
    /* Adapta el número de columnas: 1 columna en móviles, 2 o 3 en pantallas más grandes */
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 20px; /* Espacio entre los grupos de aciertos */
    margin: 0 auto; /* Centra el contenedor completo de los grupos */
    max-width: 1200px; /* Limita el ancho para que no se estire demasiado en monitores grandes */
}

/* Este elemento ahora solo actúa como un envoltorio transparente para el grid */
.peña-bets-list {
    display: contents; /* Hace que los hijos directos de este elemento actúen como hijos directos del grid parent */
}

/* Estilos individuales de las tarjetas de grupo de apuestas */
.peña-bet-group-card {
    background-color: #fcfcfc;
    border: 1px solid #eee;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 1px 5px rgba(0,0,0,0.08);
    text-align: left;
    display: flex; /* Para que el contenido interno (título y apuestas) sea flex */
    flex-direction: column;
}

.peña-bet-group-card h3 {
    color: #004D99;
    font-size: 1.2em;
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.peña-bet-group-card h3 .correct-icon-title {
    color: #28a745; /* Verde para el icono de acierto en el título del grupo */
    font-size: 1em;
}

.bets-in-group {
    /* Contenedor de las líneas de apuesta dentro del grupo */
    max-height: 300px; /* Limitar altura si hay muchas apuestas en un grupo */
    overflow-y: auto; /* Scroll si el contenido excede la altura */
    padding-right: 5px; /* Espacio para la barra de scroll */
}

/* Estilos para cada línea de combinación de apuesta */
.bet-combination-line {
    font-family: 'Courier New', Courier, monospace;
    font-size: 0.9em; /* Reducir aún más el tamaño de la fuente para que quepa */
    letter-spacing: 0.2px; /* Reducir aún más el espacio entre caracteres */
    word-wrap: break-word;
    line-height: 1.2; /* Reducir la separación vertical entre líneas */
    margin-bottom: 4px; /* Un poco más de margen para que no se peguen mucho */
    display: flex; /* Para alinear picks e iconos */
    align-items: center;
    /* overflow-x: auto; /* Permitir scroll horizontal si la línea es demasiado larga */
    /* white-space: nowrap; /* Asegurar que la línea no se rompa */
    /* Estas dos propiedades no son necesarias aquí, ya las manejan los spans con nowrap y el contenedor del span con overflow */
}

/* Ajustes para los spans de los picks (asegurar el resaltado) */
.bet-combination-line span {
    display: inline-block; /* Crucial para que el padding y background funcionen */
    padding: 1px 2px; /* Reducir padding para que los signos estén más juntos */
    border-radius: 2px; /* Un poco menos redondeado */
    margin: 0 0.5px; /* Reducir el margen entre los signos para compactar */
    white-space: nowrap; /* Impide que los signos individuales se rompan */
    line-height: 1.2; /* Consistencia en la altura de línea */
    vertical-align: middle; /* Ayuda a alinear verticalmente */
}

/* Colores de resaltado de los picks */
.bet-combination-line .bet-result-highlight {
    background-color: #e6ffe6; /* Fondo verde claro para aciertos */
    font-weight: bold;
    color: #28a745;
}

.bet-combination-line .bet-result-incorrect {
    color: #dc3545; /* Rojo para picks incorrectos (solo texto) */
    font-weight: bold;
}

.bet-combination-line .bet-result-unselected {
    background-color: #e0f2f7; /* Azul claro para partidos no seleccionados por el usuario */
    font-weight: bold;
    color: #004D99; /* Texto azul oscuro */
}

/* Estilos para el Pleno al 15 en la línea de combinación */
.bet-combination-line .pleno15-scores-display {
    margin-left: 5px; /* Reducir el margen para que esté más cerca de los 14 partidos */
    /* Asegurar que los spans dentro de .pleno15-scores-display también se vean compactos */
}
.bet-combination-line .pleno15-scores-display span {
    padding: 1px 2px; /* Compactar padding del pleno al 15 */
    border-radius: 2px;
}
.bet-combination-line .pleno15-scores-display .bet-pleno15-highlight {
    background-color: #ccffcc; /* Verde más intenso para Pleno al 15 */
    font-weight: bold;
    color: #1a7e37;
}

/* Iconos de Acierto/Fallo en las líneas de apuesta */
.bet-icons-summary {
    display: flex; /* Para que el icono esté alineado */
    align-items: center;
    margin-left: auto; /* Empuja el icono al final de la línea */
    flex-shrink: 0; /* Evita que el icono se encoja */
    padding-left: 5px; /* Espacio para que el icono no se pegue al pleno al 15 */
}
.bet-icons-summary .fas {
    font-size: 0.9em;
}
.bet-icons-summary .pleno15-icon-correct {
    color: #f2c75a; /* Trofeo oro */
}
.bet-icons-summary .pleno15-icon-incorrect {
    color: #dc3545; /* Cruz roja */
}

/* Asegurar que el mensaje de carga en la lista de la peña no se vea como tarjeta */
.peña-bets-list-container > p.loading-message {
    grid-column: 1 / -1; /* Ocupar todo el ancho del grid */
    background: none;
    box-shadow: none;
    padding: 20px 0;
    margin-top: 0;
    text-align: center;
    font-style: italic;
    color: #888;
}


/* --- Responsive adjustments --- */
@media (max-width: 768px) {
    .quiniela-jornada-details,
    .user-prediction-summary,
    .probability-chart-section,
    .peña-bets-results {
        padding: 20px;
    }

    .matches-table-container {
        /* overflow-x: auto; ya manejado, pero asegurando */
    }

    .matches-table {
        min-width: 500px;
        font-size: 0.85em;
    }

    /* En pantallas medianas y pequeñas, los grupos de aciertos pueden ir en 1 o 2 columnas */
    .peña-bets-list-container {
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); /* Más flexible */
        max-width: 100%; /* Permite que ocupe todo el ancho disponible */
    }

    .selection-button {
        padding: 6px 10px;
        font-size: 0.8em;
    }

    /* Ajuste para el encabezado de las tarjetas en responsive */
    .summary-cards .card h3 {
        font-size: 1.1em;
    }
    /* Ajuste para el tamaño de fuente de la tabla de aciertos en responsive */
    .aciertos-summary-table {
        font-size: 0.8em;
    }
}

@media (max-width: 480px) {
    .aciertos-summary-table {
        font-size: 0.7em;
    }
    .aciertos-summary-table th, .aciertos-summary-table td {
        padding: 5px 2px;
    }
    .matches-table {
        min-width: 400px;
        font-size: 0.8em;
    }
    .pleno15-selection {
        flex-direction: column;
        gap: 15px;
    }
    .pleno15-selection .score-group {
        width: 100%;
    }
    .pleno15-selection .score-buttons-group {
        width: 100%;
        justify-content: stretch;
    }
    .bet-combination-line {
        font-size: 0.8em; /* Aún más pequeño en móviles muy pequeños */
        letter-spacing: 0.1px;
    }
    .peña-bet-group-card h3 {
        font-size: 1.1em;
    }

    /* Ajuste de tamaño de fuente para la tabla de aciertos en pantallas muy pequeñas */
    .aciertos-summary-table {
        font-size: 0.75em;
    }
}