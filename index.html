<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informe de Apuestas - Peña Don Antonio Márquez</title>
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <!-- Chart.js para los gráficos, lo cargamos desde un CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Font Awesome para iconos (opcional, pero útil para flechas de ordenación, etc.) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header class="site-header">
        <div class="container">
            <div class="header-logos">
                <img src="images/logo_loterias_y_apuestas_estado.png" alt="Logo Loterías y Apuestas del Estado" class="logo">
                <img src="images/logo_once.png" alt="Logo ONCE" class="logo">
            </div>
            <h1>Informe de Apuestas <br> Peña "Don Antonio Márquez"</h1>
        </div>
    </header>

    <main class="container">
        <section class="dashboard-summary">
            <h2>Resumen General</h2>
            <div class="summary-cards">
                <div class="card">
                    <h3>Gasto Total</h3>
                    <p id="totalSpent">0.00 EUR</p>
                </div>
                <div class="card">
                    <h3>Premios Recibidos</h3>
                    <p id="totalWon">0.00 EUR</p>
                </div>
                <div class="card highlight">
                    <h3>Balance Neto</h3>
                    <p id="netBalance">0.00 EUR</p>
                </div>
            </div>
            <div class="chart-container">
                <canvas id="betsBreakdownChart"></canvas>
            </div>
        </section>

        <section class="controls">
            <h2>Apuestas y Premios</h2>
            <div class="filter-sort-group">
                <div class="filter-group">
                    <label for="filterGame">Filtrar por Juego:</label>
                    <select id="filterGame">
                        <option value="all">Todos los Juegos</option>
                        <!-- Opciones generadas por JS -->
                    </select>
                </div>
                <div class="sort-group">
                    <label for="sortBy">Ordenar por:</label>
                    <select id="sortBy">
                        <option value="date_transaction_desc">Fecha (más reciente)</option>
                        <option value="date_transaction_asc">Fecha (más antigua)</option>
                        <option value="amount_desc">Importe (mayor a menor)</option>
                        <option value="amount_asc">Importe (menor a mayor)</option>
                    </select>
                </div>
                <div class="download-group"> <!-- NUEVO BLOQUE AÑADIDO -->
                    <label>Descargar Seguimiento:</label>
                    <a href="2566.TXT" download="seguimiento_quiniela_2566.txt" class="download-button">
                        <i class="fas fa-file-download"></i> Descargar 2566.TXT
                    </a>
                </div>
            </div>
        </section>

        <section class="bet-list" id="betList">
            <!-- Las apuestas se cargarán aquí dinámicamente con JavaScript -->
            <p class="loading-message">Cargando apuestas...</p>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>© 2025 Peña "Don Antonio Márquez". Informe Generado.</p>
            <p>Este resguardo es informativo (no válido para reclamaciones)</p>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>